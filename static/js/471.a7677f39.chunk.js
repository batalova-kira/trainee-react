"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[471],{1471:function(t,e,n){n.r(e),n.d(e,{default:function(){return V}});var r,o=n(3433),i=n(1413),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")},s=n(4420),l=n(27),a=n(2791),u=["title","titleId"];function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function p(t,e){var n=t.title,o=t.titleId,i=h(t,u);return a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 24 24",ref:e,"aria-labelledby":o},i),n?a.createElement("title",{id:o},n):null,r||(r=a.createElement("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7ZM17 6H7v13h10V6ZM9 17h2V8H9v9Zm4 0h2V8h-2v9ZM7 6v13V6Z"})))}var f,m=a.forwardRef(p),x=(n.p,"Product_product__hQeO1"),v="Product_productImg__+a4qi",b="Product_discountBage__jCcC4",j="Product_apology__pj8OQ",g="Product_productAddToCartBtn__RIA29",w=n(184),_=function(t){var e=t.id,n=t.title,r=t.price,o=t.discount,i=t.handleDeleteProduct,c=(0,s.I0)(),a={backgroundColor:o?"#97e605":"#f9bf04"};return(0,w.jsxs)("div",{className:x,style:a,children:[(0,w.jsx)("img",{src:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?dpr=2&h=480&w=640",alt:"Tacos With Lime",width:"640",className:v}),(0,w.jsxs)("h2",{children:[n," "]}),o?(0,w.jsxs)("h3",{className:b,children:["Discount: ",o,"$"]}):(0,w.jsx)("p",{className:j,children:"Sorry, but discount on this type of product has expired!"}),(0,w.jsxs)("p",{children:["Price: ",r,"$"]}),(0,w.jsx)("button",{className:g,type:"button",children:"Add to cart"}),(0,w.jsx)("button",{onClick:function(){return c((0,l.h7)({title:n,price:r,discount:o}))},className:g,type:"button",children:"See the details"}),(0,w.jsx)("button",{onClick:function(){return i(e)},className:g,type:"button",children:(0,w.jsx)(m,{})})]})},y=n(9439),P={form:"ProductForm_form__g-Bdi",formLarge:"ProductForm_formLarge__HF+87",labelText:"ProductForm_labelText__TbfmW"},k=function(t){var e=t.handleAddProduct,n=(0,a.useState)(""),r=(0,y.Z)(n,2),o=r[0],i=r[1],c=(0,a.useState)(""),s=(0,y.Z)(c,2),l=s[0],u=s[1],d=(0,a.useState)(!1),h=(0,y.Z)(d,2),p=h[0],f=h[1],m=(0,a.useState)(""),x=(0,y.Z)(m,2),v=x[0],b=x[1],j=function(t){var e="checkbox"===t.target.type?t.target.checked:t.target.value;switch(t.target.name){case"title":return void i(e);case"price":return void u(e);case"hasDiscount":return void f(e);case"discount":return void b(e);default:return}};return(0,w.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:o,price:Number.parseFloat(l),discount:p?Number.parseFloat(v):null};e(n),i(""),u(""),f(!1),b("")},className:"".concat(P.form," ").concat(P.formLarge),children:["Spagetti"===o&&(0,w.jsx)("h2",{children:"Congrats! You won a promocode\ud83d\ude12\ud83d\ude2d - #R3E2A1\ud83c\udf89"}),(0,w.jsxs)("label",{className:P.formLabel,children:[(0,w.jsx)("p",{className:P.labelText,children:"Title:"}),(0,w.jsx)("input",{type:"text",name:"title",onChange:j,value:o})]}),(0,w.jsxs)("label",{className:P.formLabel,children:[(0,w.jsx)("p",{className:P.labelText,children:"Price:"}),(0,w.jsx)("input",{type:"text",name:"price",onChange:j,value:l})]}),(0,w.jsxs)("label",{className:P.formLabel,children:[(0,w.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:j,checked:p})," ","Has discount?"]}),p&&(0,w.jsxs)("label",{className:P.formLabel,children:[(0,w.jsx)("p",{className:P.labelText,children:"Discount:"}),(0,w.jsx)("input",{type:"text",name:"discount",onChange:j,value:v})]}),(0,w.jsx)("button",{type:"submit",children:"Add Product"})]})},C="Section_section__Z2PLw",N=function(t){var e=t.children,n=t.title,r=void 0!==n&&n;return(0,w.jsxs)("section",{className:C,children:[r&&(0,w.jsx)("h2",{children:r}),e]})},S=n(168),L=n(7924).ZP.div(f||(f=(0,S.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: ",";\n  /* width: 100vw;\n     height: 100vh; */\n  &:hover {\n    cursor: pointer;\n  }\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"])),(function(t){return t.specialLook?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 0, 0.5)"})),Z=function(t){return t.modal.isOpenModal},O=function(t){return t.modal.modalData},T=function(){var t=(0,s.v9)(O),e=(0,s.I0)(),n=(0,a.useState)(1),r=(0,y.Z)(n,2),o=r[0],i=r[1];(0,a.useEffect)((function(){var t=function(t){"Escape"===t.code&&e((0,l.Mr)())};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto"}}),[e]);return(0,w.jsx)(L,{onClick:function(t){t.target===t.currentTarget&&e((0,l.Mr)())},children:(0,w.jsxs)("div",{className:"modal",children:[(0,w.jsx)("button",{onClick:function(){return e((0,l.Mr)())},className:"closeBtn",children:"\u274c"}),(0,w.jsx)("h2",{children:"Product Details"}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("h3",{children:["Title: ",t.title]}),(0,w.jsxs)("p",{children:["Price: ",t.price,"$"]}),(0,w.jsxs)("p",{children:["Discount: ",t.discount,"$"]})]}),(0,w.jsxs)("button",{onClick:function(){return i((function(t){return t+1}))},children:["Product count: ",o]})]})})},I="App_productList__ZcthI",A=n(6153),D=function(){var t=(0,s.v9)((function(t){return t.productsStore.filterTerm})),e=(0,s.I0)();return(0,w.jsx)("div",{children:(0,w.jsx)("input",{value:t,onChange:function(t){e((0,A.ch)(t.target.value)),console.log("e: ",t.target.value)},type:"text",placeholder:"Enter product name"})})},E=n(3553),F=function(t){return t.productsStore.products},M=(0,E.P1)([F,function(t){return t.productsStore.filterTerm}],(function(t,e){return t.filter((function(t){var n=t.price;return t.title.toLowerCase().includes(e.toLowerCase().trim())||n.toString().includes(e.toLowerCase().trim())}))})),V=function(){var t=(0,s.I0)(),e=(0,s.v9)(Z),n=(0,s.v9)(F),r=(0,s.v9)(M),l=function(e){t((0,A.Ir)(e))},a=(0,o.Z)(r).sort((function(t,e){return e.discount-t.discount}));return(0,w.jsxs)("div",{children:[(0,w.jsx)(N,{title:"Add product Form",children:(0,w.jsx)(k,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, produc with title '".concat(e.title,"' already exists!"));else{var r=(0,i.Z)((0,i.Z)({},e),{},{id:c()});t((0,A.gK)(r))}}})}),(0,w.jsx)(N,{title:"Filter Product",children:(0,w.jsx)(D,{})}),(0,w.jsx)(N,{title:"Product List",children:(0,w.jsx)("div",{className:I,children:a.map((function(t){return(0,w.jsx)(_,{id:t.id,title:t.title,price:t.price,discount:t.discount,handleDeleteProduct:l},t.id)}))})}),e&&(0,w.jsx)(T,{})]})}}}]);
//# sourceMappingURL=471.a7677f39.chunk.js.map