"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[165],{8165:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var r,o=n(3433),i=n(1413),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")},s=n(4420),a=n(27),l=n(2791),u=["title","titleId"];function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function p(t,e){var n=t.title,o=t.titleId,i=h(t,u);return l.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 24 24",ref:e,"aria-labelledby":o},i),n?l.createElement("title",{id:o},n):null,r||(r=l.createElement("path",{fill:"currentColor",d:"M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7ZM17 6H7v13h10V6ZM9 17h2V8H9v9Zm4 0h2V8h-2v9ZM7 6v13V6Z"})))}var m,f=l.forwardRef(p),x=(n.p,"Product_product__hQeO1"),v="Product_productImg__+a4qi",b="Product_discountBage__jCcC4",j="Product_apology__pj8OQ",g="Product_productAddToCartBtn__RIA29",_=n(184),w=function(t){var e=t.id,n=t.title,r=t.price,o=t.discount,i=t.handleDeleteProduct,c=(0,s.I0)(),l={backgroundColor:o?"#97e605":"#f9bf04"};return(0,_.jsxs)("div",{className:x,style:l,children:[(0,_.jsx)("img",{src:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?dpr=2&h=480&w=640",alt:"Tacos With Lime",width:"640",className:v}),(0,_.jsxs)("h2",{children:[n," "]}),o?(0,_.jsxs)("h3",{className:b,children:["Discount: ",o,"$"]}):(0,_.jsx)("p",{className:j,children:"Sorry, but discount on this type of product has expired!"}),(0,_.jsxs)("p",{children:["Price: ",r,"$"]}),(0,_.jsx)("button",{className:g,type:"button",children:"Add to cart"}),(0,_.jsx)("button",{onClick:function(){return c((0,a.h7)({title:n,price:r,discount:o}))},className:g,type:"button",children:"See the details"}),(0,_.jsx)("button",{onClick:function(){return i(e)},className:g,type:"button",children:(0,_.jsx)(f,{})})]})},y=n(9439),P={form:"ProductForm_form__g-Bdi",formLarge:"ProductForm_formLarge__HF+87",labelText:"ProductForm_labelText__TbfmW"},k=function(t){var e=t.handleAddProduct,n=(0,l.useState)(""),r=(0,y.Z)(n,2),o=r[0],i=r[1],c=(0,l.useState)(""),s=(0,y.Z)(c,2),a=s[0],u=s[1],d=(0,l.useState)(!1),h=(0,y.Z)(d,2),p=h[0],m=h[1],f=(0,l.useState)(""),x=(0,y.Z)(f,2),v=x[0],b=x[1],j=function(t){var e="checkbox"===t.target.type?t.target.checked:t.target.value;switch(t.target.name){case"title":return void i(e);case"price":return void u(e);case"hasDiscount":return void m(e);case"discount":return void b(e);default:return}};return(0,_.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={title:o,price:Number.parseFloat(a),discount:p?Number.parseFloat(v):null};e(n),i(""),u(""),m(!1),b("")},className:"".concat(P.form," ").concat(P.formLarge),children:["Spagetti"===o&&(0,_.jsx)("h2",{children:"Congrats! You won a promocode\ud83d\ude12\ud83d\ude2d - #R3E2A1\ud83c\udf89"}),(0,_.jsxs)("label",{className:P.formLabel,children:[(0,_.jsx)("p",{className:P.labelText,children:"Title:"}),(0,_.jsx)("input",{type:"text",name:"title",onChange:j,value:o})]}),(0,_.jsxs)("label",{className:P.formLabel,children:[(0,_.jsx)("p",{className:P.labelText,children:"Price:"}),(0,_.jsx)("input",{type:"text",name:"price",onChange:j,value:a})]}),(0,_.jsxs)("label",{className:P.formLabel,children:[(0,_.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:j,checked:p})," ","Has discount?"]}),p&&(0,_.jsxs)("label",{className:P.formLabel,children:[(0,_.jsx)("p",{className:P.labelText,children:"Discount:"}),(0,_.jsx)("input",{type:"text",name:"discount",onChange:j,value:v})]}),(0,_.jsx)("button",{type:"submit",children:"Add Product"})]})},N="Section_section__Z2PLw",C=function(t){var e=t.children,n=t.title,r=void 0!==n&&n;return(0,_.jsxs)("section",{className:N,children:[r&&(0,_.jsx)("h2",{children:r}),e]})},Z=n(168),O=n(7924).ZP.div(m||(m=(0,Z.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: ",";\n  /* width: 100vw;\n     height: 100vh; */\n  &:hover {\n    cursor: pointer;\n  }\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"])),(function(t){return t.specialLook?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 0, 0.5)"})),S=function(){var t=(0,s.v9)((function(t){return t.modal.modalData})),e=(0,s.I0)(),n=(0,l.useState)(1),r=(0,y.Z)(n,2),o=r[0],i=r[1];(0,l.useEffect)((function(){var t=function(t){"Escape"===t.code&&e((0,a.Mr)())};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto"}}),[e]);return(0,_.jsx)(O,{onClick:function(t){t.target===t.currentTarget&&e((0,a.Mr)())},children:(0,_.jsxs)("div",{className:"modal",children:[(0,_.jsx)("button",{onClick:function(){return e((0,a.Mr)())},className:"closeBtn",children:"\u274c"}),(0,_.jsx)("h2",{children:"Product Details"}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("h3",{children:["Title: ",t.title]}),(0,_.jsxs)("p",{children:["Price: ",t.price,"$"]}),(0,_.jsxs)("p",{children:["Discount: ",t.discount,"$"]})]}),(0,_.jsxs)("button",{onClick:function(){return i((function(t){return t+1}))},children:["Product count: ",o]})]})})},L="App_productList__ZcthI",T=n(6153),A=function(){var t=(0,s.I0)(),e=(0,s.v9)((function(t){return t.modal.isOpenModal})),n=(0,s.v9)((function(t){return t.productsStore.products})),r=function(e){t((0,T.Ir)(e))},a=(0,o.Z)(n).sort((function(t,e){return e.discount-t.discount}));return(0,_.jsxs)("div",{children:[(0,_.jsx)(C,{title:"Add product Form",children:(0,_.jsx)(k,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, produc with title '".concat(e.title,"' already exists!"));else{var r=(0,i.Z)((0,i.Z)({},e),{},{id:c()});t((0,T.gK)(r))}}})}),(0,_.jsx)(C,{title:"Product List",children:(0,_.jsx)("div",{className:L,children:a.map((function(t){return(0,_.jsx)(w,{id:t.id,title:t.title,price:t.price,discount:t.discount,handleDeleteProduct:r},t.id)}))})}),e&&(0,_.jsx)(S,{})]})}}}]);
//# sourceMappingURL=165.7a612ba5.chunk.js.map